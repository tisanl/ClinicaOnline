<main class="card-container">
    <h2 class="titulo">Mis Turnos</h2>

    <table mat-table [dataSource]="dataSource" matSort>

        <!-- Especialidad -->
        <ng-container matColumnDef="especialidad">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Especialidad</th>
            <td mat-cell *matCellDef="let t">
                {{ t.especialidades?.nombre }}
            </td>
        </ng-container>

        <!-- Especialista -->
        <ng-container matColumnDef="especialista">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Especialista</th>
            <td mat-cell *matCellDef="let t">
                {{ t.id_especialista?.apellido }} {{ t.id_especialista?.nombre }}
            </td>
        </ng-container>

        <!-- Paciente -->
        <ng-container matColumnDef="paciente">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Paciente</th>
            <td mat-cell *matCellDef="let t">
                {{ t.id_paciente?.apellido }} {{ t.id_paciente?.nombre }}
            </td>
        </ng-container>

        <!-- Fecha -->
        <ng-container matColumnDef="dia">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha</th>
            <td mat-cell *matCellDef="let t">
                {{ t.dia | date: 'dd/MM/yyyy' }}
            </td>
        </ng-container>

        <!-- Acciones -->
        <ng-container matColumnDef="acciones">
            <th mat-header-cell *matHeaderCellDef>Acciones</th>
            <td mat-cell *matCellDef="let t">
                <button mat-button color="primary" (click)="verDetalle(t)">Ver</button>
                <button mat-button color="warn" (click)="cancelarTurno(t)">Cancelar</button>
            </td>
        </ng-container>

        <!-- Header y Filas -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    </table>
</main>