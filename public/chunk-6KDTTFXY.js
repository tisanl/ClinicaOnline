import{b as H,h as z}from"./chunk-N3MNZNK2.js";import"./chunk-5TYF45X6.js";import"./chunk-FK6H3RFT.js";import{a as B}from"./chunk-GZKUZZRW.js";import{U as j,W as D}from"./chunk-VBHGM43M.js";import{e as F,h as V,j as I,s as $,t as L}from"./chunk-NR3I2YFB.js";import"./chunk-LJ5XHLMQ.js";import{Ab as v,Bb as w,Cb as n,Db as o,Eb as O,Lb as g,Pb as _,Ra as M,Rb as r,Sa as c,ab as p,dc as l,ec as C,fc as S,gb as P,gc as y,ha as m,ia as u,kc as k,qc as U,rc as E,sc as T,vb as f,wb as x,zb as h}from"./chunk-KP5MESBS.js";import{h as b}from"./chunk-FK42CRUA.js";var N=(e,t,i)=>({"estado-pendiente":e,"estado-habilitado":t,"estado-inhabilitado":i}),Y=(e,t)=>t.id,R=(e,t)=>t.especialidades.id;function q(e,t){if(e&1&&(n(0,"li"),l(1),o()),e&2){let i=t.$implicit;c(),C(i.especialidades.nombre)}}function G(e,t){if(e&1){let i=g();n(0,"button",9),_("click",function(){m(i);let s=r(2).$implicit,d=r();return u(d.cambiarEstado(s.id,"habilitado"))}),l(1,"Habilitar"),o(),n(2,"button",10),_("click",function(){m(i);let s=r(2).$implicit,d=r();return u(d.cambiarEstado(s.id,"inhabilitado"))}),l(3,"Inhabilitar"),o()}}function J(e,t){if(e&1){let i=g();n(0,"button",10),_("click",function(){m(i);let s=r(2).$implicit,d=r();return u(d.cambiarEstado(s.id,"inhabilitado"))}),l(1,"Inhabilitar"),o()}}function K(e,t){if(e&1){let i=g();n(0,"button",9),_("click",function(){m(i);let s=r(2).$implicit,d=r();return u(d.cambiarEstado(s.id,"habilitado"))}),l(1,"Habilitar"),o()}}function Q(e,t){if(e&1&&(n(0,"p",5),l(1),E(2,"titlecase"),o(),n(3,"ul"),h(4,q,2,1,"li",null,R),o(),n(6,"div",6),f(7,G,4,0)(8,J,2,0,"button",7)(9,K,2,0,"button",8),o()),e&2){let i=r().$implicit;w("ngClass",U(5,N,i.estado==="pendiente_validacion",i.estado==="habilitado",i.estado==="inhabilitado")),c(),S(" ",i.estado==="pendiente_validacion"?"Pendiente de validaci\xF3n":T(2,3,i.estado)," "),c(3),v(i.usuario_especialidad),c(3),x(i.estado==="pendiente_validacion"?7:i.estado==="habilitado"?8:i.estado==="inhabilitado"?9:-1)}}function W(e,t){if(e&1){let i=g();n(0,"div")(1,"button",11),_("click",function(){m(i);let s=r().$implicit,d=r();return u(d.verHistoriaClinica(s.id))}),l(2,"Ver Historia Clinica del Paciente"),o()()}}function X(e,t){if(e&1&&(n(0,"div",3),O(1,"img",4),n(2,"h3"),l(3),o(),n(4,"h5"),l(5),o(),n(6,"h5"),l(7),o(),f(8,Q,10,9),f(9,W,3,0,"div"),o()),e&2){let i=t.$implicit,a=r();c(),w("alt",k(i.nombre))("src",i.imagen_1_path,M),c(2),y("",i.nombre," ",i.apellido),c(2),C(a.capitalizar(i.perfil)),c(2),C(i.email),c(),x(i.perfil==="especialista"?8:-1),c(),x(i.perfil==="paciente"?9:-1)}}var A=class e{constructor(t,i,a,s){this.u=t;this.sa=i;this.t=a;this.dialog=s}usuarios=[];ngOnInit(){return b(this,null,function*(){this.sa.showLoading(),this.usuarios=yield this.u.obtenerUsuarios(),console.log(this.usuarios),this.sa.closeLoading()})}cambiarEstado(t,i){return b(this,null,function*(){this.sa.showLoading(),yield this.u.modificarEstadoUsuario(t,i);let a=this.usuarios.find(s=>s.id===t);a&&(a.estado=i),this.sa.closeLoading()})}verHistoriaClinica(t){return b(this,null,function*(){this.sa.showLoading();let i=yield this.t.obtenerTurnosFinalizadosPaciente(t);this.sa.closeLoading(),console.log(i);let a=this.dialog.open(z,{data:{turnos:i}})})}capitalizar(t){return t[0].toUpperCase()+t.slice(1).toLowerCase()}static \u0275fac=function(i){return new(i||e)(p(L),p($),p(B),p(H))};static \u0275cmp=P({type:e,selectors:[["app-usuarios"]],decls:6,vars:0,consts:[[1,"card-container"],[1,"titulo"],[1,"lista-usuarios"],[1,"usuario-item"],[1,"foto-usuario",3,"src","alt"],[1,"estado",3,"ngClass"],[1,"botones-acciones"],[1,"btn-inhabilitar"],[1,"btn-habilitar"],[1,"btn-habilitar",3,"click"],[1,"btn-inhabilitar",3,"click"],["matButton","filled",2,"min-width","40px","max-width","255px","height","40px",3,"click"]],template:function(i,a){i&1&&(n(0,"main",0)(1,"h2",1),l(2,"Usuarios"),o(),n(3,"div",2),h(4,X,10,9,"div",3,Y),o()()),i&2&&(c(4),v(a.usuarios))},dependencies:[I,F,D,j,V],styles:["[_nghost-%COMP%]     .card-container{max-width:none;width:50%}.lista-usuarios[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:1.5rem;padding:1.5rem;color:#f5f5f5}.usuario-item[_ngcontent-%COMP%]{background-color:var(--c-primary-dark);border:1px solid var(--c-primary);border-radius:10px;padding:1rem 1.5rem;display:flex;flex-direction:column;align-items:center;text-align:center}.usuario-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 4px 10px #0009}.usuario-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--c-accent);margin:0 0 .5rem}.usuario-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--c-primary-light);margin:0 0 .5rem;font-weight:500}.usuario-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;flex-wrap:wrap;gap:.5rem}.usuario-item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:var(--c-primary);color:var(--c-neutral);margin:.25rem 0;padding:.3rem .7rem;border-radius:6px;display:inline-block;font-size:.9rem;font-weight:500}.estado[_ngcontent-%COMP%]{display:inline-block;padding:.4rem .8rem;border-radius:6px;font-weight:600;color:var(--c-accent);margin-bottom:.5rem}.estado-pendiente[_ngcontent-%COMP%]{background-color:var(--c-neutral);color:var(--c-primary-light)!important}.estado-habilitado[_ngcontent-%COMP%]{background-color:#00b37a;color:#fff!important}.estado-inhabilitado[_ngcontent-%COMP%]{background-color:red;color:var(--c-neutral)!important}.botones-acciones[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.8rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:transform .2s ease,opacity .2s ease}button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);opacity:.9}.btn-habilitar[_ngcontent-%COMP%]{background-color:#00b37a;color:#fff}.btn-inhabilitar[_ngcontent-%COMP%]{background-color:red;color:var(--c-primary-light)}.btn-habilitar[_ngcontent-%COMP%]:disabled, .btn-inhabilitar[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.foto-usuario[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:cover;border-radius:50%;margin-bottom:.8rem}"]})};export{A as Usuarios};
