import{c as S,e as m,h as y,i as E,j as k,l as p,m as C,n as M,q as F,s as I,t as x}from"./chunk-Z6A5G2QF.js";import{a as L,b as T,c as A}from"./chunk-WU55TSV5.js";import{V as N,W as P}from"./chunk-AQNPDNIE.js";import{b}from"./chunk-2UEFWIHA.js";import"./chunk-CP6NELDM.js";import{s as _,t as w}from"./chunk-UGTTAIU5.js";import"./chunk-LJ5XHLMQ.js";import{Bb as v,Cb as t,Db as o,Eb as u,Pb as a,Sa as c,ab as s,ac as d,dc as i,gb as h}from"./chunk-KP5MESBS.js";import{h as f}from"./chunk-FK42CRUA.js";var R=class g{constructor(r,l,e,n){this.router=r;this.u=l;this.sa=e;this.iconRegistry=n;n.setDefaultFontSetClass("material-symbols-outlined")}form;ngOnInit(){this.form=new k({email:new p("",[m.required,m.email]),password:new p("",[m.required,m.minLength(6)])})}login(){return f(this,null,function*(){if(this.form.invalid){this.form.markAllAsTouched(),yield this.sa.showAlertError("Error en los datos","Revise los datos ingresados");return}this.sa.showLoading();try{yield this.u.login(this.email?.value,this.password?.value),this.sa.closeLoading(),yield this.sa.showAlertSuccess("Ingreso completado!","Bienvenido "+this.u.userData.nombre),this.goTo("home")}catch(r){this.sa.closeLoading(),yield this.sa.showAlertError("Error al ingresar",r.message)}})}autocompletar(r){switch(r){case"administrador":this.form.patchValue({email:"nahorij455@fandoe.com",password:"123456"});break;case"especialista":this.form.patchValue({email:"kenir92926@limtu.com",password:"123456"});break;case"paciente":this.form.patchValue({email:"govol30777@fandoe.com",password:"123456"});break}}get email(){return this.form.get("email")}get password(){return this.form.get("password")}goTo(r){console.log("Volver al login"),this.router.navigate([r])}static \u0275fac=function(l){return new(l||g)(s(b),s(w),s(_),s(L))};static \u0275cmp=h({type:g,selectors:[["app-login"]],decls:35,vars:5,consts:[[1,"card-container"],[1,"titulo"],[1,"form-container",3,"formGroup"],[1,"input"],["type","email","placeholder","Tu correo","formControlName","email"],["type","password","placeholder","Contrase\xF1a","formControlName","password"],["type","button",1,"btn-1",3,"click"],[1,"registro-texto"],["type","button",1,"btn-registro",3,"click"],[1,"fab-container"],["matFab","","extended","",3,"click"]],template:function(l,e){l&1&&(t(0,"main",0)(1,"h2",1),i(2,"Inicio de Sesion"),o(),t(3,"form",2)(4,"div",3)(5,"label"),i(6,"Correo Electr\xF3nico"),o(),u(7,"input",4),t(8,"small"),i(9," Ingresar un mail v\xE1lido. "),o()(),t(10,"div",3)(11,"label"),i(12,"Contrase\xF1a"),o(),u(13,"input",5),t(14,"small"),i(15," La contrase\xF1a debe contener un m\xEDnimo de 6 caracteres. "),o()()(),t(16,"button",6),a("click",function(){return e.login()}),i(17,"Ingresar"),o(),t(18,"p",7),i(19," \xBFNo ten\xE9s cuenta? "),t(20,"button",8),a("click",function(){return e.goTo("registro")}),i(21,"Registrate"),o()()(),t(22,"div",9)(23,"button",10),a("click",function(){return e.autocompletar("administrador")}),t(24,"mat-icon"),i(25,"crown"),o(),i(26," Administrador "),o(),t(27,"button",10),a("click",function(){return e.autocompletar("especialista")}),t(28,"mat-icon"),i(29,"stethoscope"),o(),i(30," Especialista "),o(),t(31,"button",10),a("click",function(){return e.autocompletar("paciente")}),t(32,"mat-icon"),i(33,"personal_injury"),o(),i(34," Paciente "),o()()),l&2&&(c(3),v("formGroup",e.form),c(5),d("visibility",e.email!=null&&e.email.invalid&&(e.email!=null&&e.email.touched)?"visible":"hidden"),c(6),d("visibility",e.password!=null&&e.password.invalid&&(e.password!=null&&e.password.touched)?"visible":"hidden"))},dependencies:[I,C,S,y,E,x,M,F,A,T,P,N],styles:[".registro-texto[_ngcontent-%COMP%]{text-align:center;color:var(--c-primary-light)}.registro-texto[_ngcontent-%COMP%]   .btn-registro[_ngcontent-%COMP%]{margin-left:.3rem}.btn-registro[_ngcontent-%COMP%]{background:none;color:var(--c-accent);border:none;font-size:.9rem;font-weight:400;cursor:pointer;padding:0;transition:color .2s ease-in-out}.btn-registro[_ngcontent-%COMP%]:hover{color:#e0a800;text-decoration:underline}.fab-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;display:flex;flex-direction:column;gap:10px}"]})};export{R as Login};
