import{a as L}from"./chunk-GI4JLFKI.js";import{e as $}from"./chunk-IV7ENO7Y.js";import{e as I,g as T,i as V,p as j}from"./chunk-Y4FSZ7ZR.js";import"./chunk-LJ5XHLMQ.js";import{Ab as g,Bb as y,Cb as S,Db as U,Ea as M,Fa as r,Hb as k,Ib as E,Jb as F,Na as _,Ra as O,aa as m,ab as x,ba as u,bb as C,eb as h,fb as v,gb as w,hb as n,ib as o,jb as P,nb as b,rb as p,tb as s,zb as c}from"./chunk-MJUOTLSQ.js";import{h as f}from"./chunk-FK42CRUA.js";var A=(e,i,t)=>({"estado-pendiente":e,"estado-habilitado":i,"estado-inhabilitado":t}),D=(e,i)=>i.id,N=(e,i)=>i.especialidades.id;function R(e,i){if(e&1&&(n(0,"li"),c(1),o()),e&2){let t=i.$implicit;r(),g(t.especialidades.nombre)}}function H(e,i){if(e&1){let t=b();n(0,"button",9),p("click",function(){m(t);let l=s(2).$implicit,d=s();return u(d.cambiarEstado(l.id,"habilitado"))}),c(1,"Habilitar"),o(),n(2,"button",10),p("click",function(){m(t);let l=s(2).$implicit,d=s();return u(d.cambiarEstado(l.id,"inhabilitado"))}),c(3,"Inhabilitar"),o()}}function Y(e,i){if(e&1){let t=b();n(0,"button",10),p("click",function(){m(t);let l=s(2).$implicit,d=s();return u(d.cambiarEstado(l.id,"inhabilitado"))}),c(1,"Inhabilitar"),o()}}function B(e,i){if(e&1){let t=b();n(0,"button",9),p("click",function(){m(t);let l=s(2).$implicit,d=s();return u(d.cambiarEstado(l.id,"habilitado"))}),c(1,"Habilitar"),o()}}function q(e,i){if(e&1&&(n(0,"p",5),c(1),E(2,"titlecase"),o(),n(3,"ul"),h(4,R,2,1,"li",null,N),o(),n(6,"div",6),x(7,H,4,0)(8,Y,2,0,"button",7)(9,B,2,0,"button",8),o()),e&2){let t=s().$implicit;w("ngClass",k(5,A,t.estado==="pendiente_validacion",t.estado==="habilitado",t.estado==="inhabilitado")),r(),y(" ",t.estado==="pendiente_validacion"?"Pendiente de validaci\xF3n":F(2,3,t.estado)," "),r(3),v(t.usuario_especialidad),r(3),C(t.estado==="pendiente_validacion"?7:t.estado==="habilitado"?8:t.estado==="inhabilitado"?9:-1)}}function G(e,i){if(e&1&&(n(0,"div",3),P(1,"img",4),n(2,"h3"),c(3),o(),n(4,"h5"),c(5),o(),n(6,"h5"),c(7),o(),x(8,q,10,9),o()),e&2){let t=i.$implicit,a=s();r(),w("alt",U(t.nombre))("src",t.imagen_1_path,M),r(2),S("",t.nombre," ",t.apellido),r(2),g(a.capitalizar(t.perfil)),r(2),g(t.email),r(),C(t.perfil==="especialista"?8:-1)}}var z=class e{constructor(i,t,a){this.router=i;this.u=t;this.sa=a}usuarios=[];ngOnInit(){return f(this,null,function*(){this.sa.showLoading(),this.usuarios=yield this.u.obtenerUsuarios(),console.log(this.usuarios),this.sa.closeLoading()})}cambiarEstado(i,t){return f(this,null,function*(){this.sa.showLoading(),yield this.u.modificarEstadoUsuario(i,t);let a=this.usuarios.find(l=>l.id===i);a&&(a.estado=t),this.sa.closeLoading()})}capitalizar(i){return i[0].toUpperCase()+i.slice(1).toLowerCase()}static \u0275fac=function(t){return new(t||e)(_($),_(j),_(L))};static \u0275cmp=O({type:e,selectors:[["app-usuarios"]],decls:6,vars:0,consts:[[1,"card-container"],[1,"titulo"],[1,"lista-usuarios"],[1,"usuario-item"],[1,"foto-usuario",3,"src","alt"],[1,"estado",3,"ngClass"],[1,"botones-acciones"],[1,"btn-inhabilitar"],[1,"btn-habilitar"],[1,"btn-habilitar",3,"click"],[1,"btn-inhabilitar",3,"click"]],template:function(t,a){t&1&&(n(0,"main",0)(1,"h2",1),c(2,"Usuarios"),o(),n(3,"div",2),h(4,G,9,8,"div",3,D),o()()),t&2&&(r(4),v(a.usuarios))},dependencies:[V,I,T],styles:["[_nghost-%COMP%]     .card-container{max-width:none;width:50%}.lista-usuarios[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:1.5rem;padding:1.5rem;color:#f5f5f5}.usuario-item[_ngcontent-%COMP%]{background-color:var(--c-primary-dark);border:1px solid var(--c-primary);border-radius:10px;padding:1rem 1.5rem;display:flex;flex-direction:column;align-items:center;text-align:center}.usuario-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 4px 10px #0009}.usuario-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--c-accent);margin:0 0 .5rem}.usuario-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--c-primary-light);margin:0 0 .5rem;font-weight:500}.usuario-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;flex-wrap:wrap;gap:.5rem}.usuario-item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:var(--c-primary);color:var(--c-neutral);margin:.25rem 0;padding:.3rem .7rem;border-radius:6px;display:inline-block;font-size:.9rem;font-weight:500}.estado[_ngcontent-%COMP%]{display:inline-block;padding:.4rem .8rem;border-radius:6px;font-weight:600;color:var(--c-accent);margin-bottom:.5rem}.estado-pendiente[_ngcontent-%COMP%]{background-color:var(--c-neutral);color:var(--c-primary-light)!important}.estado-habilitado[_ngcontent-%COMP%]{background-color:#00b37a;color:#fff!important}.estado-inhabilitado[_ngcontent-%COMP%]{background-color:red;color:var(--c-neutral)!important}.botones-acciones[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.8rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:transform .2s ease,opacity .2s ease}button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);opacity:.9}.btn-habilitar[_ngcontent-%COMP%]{background-color:#00b37a;color:#fff}.btn-inhabilitar[_ngcontent-%COMP%]{background-color:red;color:var(--c-primary-light)}.btn-habilitar[_ngcontent-%COMP%]:disabled, .btn-inhabilitar[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.foto-usuario[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:cover;border-radius:50%;margin-bottom:.8rem}"]})};export{z as Usuarios};
