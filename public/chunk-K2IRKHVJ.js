import{a as u,d as p}from"./chunk-X7ATPYRG.js";import{$a as d,Y as s,ab as n,ib as o,mc as c,ya as a}from"./chunk-KP5MESBS.js";var v=class i{constructor(e,t){this.el=e;this.renderer=t}handle=null;track=null;resolved=!1;onChange=e=>{};onTouched=()=>{};ngOnInit(){this.renderUI(),this.attachEvents()}renderUI(){let e=this.el.nativeElement;this.renderer.setStyle(e,"width","300px"),this.renderer.setStyle(e,"height","40px"),this.renderer.setStyle(e,"position","relative"),this.renderer.setStyle(e,"background","#e0e0e0"),this.renderer.setStyle(e,"borderRadius","4px"),this.renderer.setStyle(e,"userSelect","none"),this.track=this.renderer.createElement("div"),this.renderer.setStyle(this.track,"width","100%"),this.renderer.setStyle(this.track,"height","100%"),this.renderer.setStyle(this.track,"position","absolute"),this.handle=this.renderer.createElement("div"),this.renderer.setStyle(this.handle,"width","40px"),this.renderer.setStyle(this.handle,"height","100%"),this.renderer.setStyle(this.handle,"background","#757575"),this.renderer.setStyle(this.handle,"borderRadius","4px"),this.renderer.setStyle(this.handle,"position","absolute"),this.renderer.setStyle(this.handle,"left","0"),this.renderer.setStyle(this.handle,"cursor","grab");let t=this.renderer.createElement("span"),r=this.renderer.createText("Desliz\xE1 para verificar");this.renderer.setStyle(t,"position","absolute"),this.renderer.setStyle(t,"left","50%"),this.renderer.setStyle(t,"top","50%"),this.renderer.setStyle(t,"transform","translate(-50%, -50%)"),this.renderer.setStyle(t,"color","#424242"),this.renderer.appendChild(t,r),this.renderer.appendChild(e,this.track),this.renderer.appendChild(e,this.handle),this.renderer.appendChild(e,t)}attachEvents(){if(!this.handle)return;let e=!1,t=0;this.renderer.listen(this.handle,"mousedown",r=>{this.resolved||(e=!0,t=r.clientX,this.renderer.setStyle(this.handle,"cursor","grabbing"))}),this.renderer.listen("window","mousemove",r=>{if(!e||!this.handle)return;let f=r.clientX-t,h=this.el.nativeElement.offsetWidth-this.handle.offsetWidth,l=Math.max(0,Math.min(f,h));this.renderer.setStyle(this.handle,"left",l+"px"),l>=h&&(e=!1,this.resolveCaptcha())}),this.renderer.listen("window","mouseup",()=>{e=!1,!this.resolved&&this.handle&&(this.renderer.setStyle(this.handle,"left","0px"),this.renderer.setStyle(this.handle,"cursor","grab"))})}resolveCaptcha(){this.resolved=!0,this.onChange(!0),this.handle&&(this.renderer.setStyle(this.handle,"background","#4caf50"),this.renderer.setStyle(this.handle,"cursor","default"))}writeValue(e){}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}validate(e){return this.resolved?null:{captcha:!0}}static \u0275fac=function(t){return new(t||i)(n(a),n(d))};static \u0275dir=o({type:i,selectors:[["","appCaptcha",""]],features:[c([{provide:u,useExisting:s(()=>i),multi:!0},{provide:p,useExisting:s(()=>i),multi:!0}])]})};export{v as a};
